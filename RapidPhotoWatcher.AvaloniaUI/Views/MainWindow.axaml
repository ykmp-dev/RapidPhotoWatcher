<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:RapidPhotoWatcher.AvaloniaUI.ViewModels"
        xmlns:views="using:RapidPhotoWatcher.AvaloniaUI.Views.UserControls"
        x:Class="RapidPhotoWatcher.AvaloniaUI.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Title="{Binding WindowTitle}"
        Width="800" Height="650"
        MinWidth="700" MinHeight="600"
        Icon="/Assets/app_icon.ico"
        WindowStartupLocation="CenterScreen"
        CanResize="True"
        SystemDecorations="BorderOnly"
        ExtendClientAreaToDecorationsHint="False">

    <Design.DataContext>
        <vm:MainWindowViewModel />
    </Design.DataContext>

    <Grid RowDefinitions="Auto,*,Auto">
        
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ã‚¨ãƒªã‚¢ -->
        <Border Grid.Row="0" 
                Background="{DynamicResource SystemControlBackgroundAccentBrush}"
                Padding="16,12">
            <Grid ColumnDefinitions="Auto,*">
                <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="12" VerticalAlignment="Center">
                    <TextBlock Text="ðŸ“·" FontSize="24" VerticalAlignment="Center"/>
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock Text="RapidPhotoWatcher" 
                                  FontSize="20" 
                                  FontWeight="Bold" 
                                  Foreground="White"/>
                        <TextBlock Text="v2.1" 
                                  FontSize="14" 
                                  Foreground="White" 
                                  Opacity="0.9"/>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ -->
        <TabControl Grid.Row="1" 
                   SelectedIndex="{Binding SelectedTabIndex}"
                   Margin="16,16,16,16"
                   TabStripPlacement="Top">
            
            <!-- åŸºæœ¬è¨­å®šã‚¿ãƒ– -->
            <TabItem>
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <TextBlock Text="âš™ï¸" FontSize="16" VerticalAlignment="Center"/>
                        <TextBlock Text="åŸºæœ¬è¨­å®š" FontWeight="SemiBold" VerticalAlignment="Center"/>
                    </StackPanel>
                </TabItem.Header>
                <views:BasicSettingsView DataContext="{Binding BasicSettings}"/>
            </TabItem>

            <!-- ãƒ•ã‚¡ã‚¤ãƒ«å‘½åã‚¿ãƒ– -->
            <TabItem>
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <TextBlock Text="ðŸ“" FontSize="16" VerticalAlignment="Center"/>
                        <TextBlock Text="ãƒ•ã‚¡ã‚¤ãƒ«å‘½å" FontWeight="SemiBold" VerticalAlignment="Center"/>
                    </StackPanel>
                </TabItem.Header>
                <views:FileNamingView DataContext="{Binding FileNaming}"/>
            </TabItem>

            <!-- å¤–éƒ¨ã‚½ãƒ•ãƒˆé€£æºã‚¿ãƒ– -->
            <TabItem>
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <TextBlock Text="ðŸ”—" FontSize="16" VerticalAlignment="Center"/>
                        <TextBlock Text="é€£æºã‚½ãƒ•ãƒˆ" FontWeight="SemiBold" VerticalAlignment="Center"/>
                    </StackPanel>
                </TabItem.Header>
                <views:ExternalSoftwareView DataContext="{Binding ExternalSoftware}"/>
            </TabItem>

            <!-- ãƒ­ã‚°ã‚¿ãƒ– -->
            <TabItem>
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <TextBlock Text="ðŸ“„" FontSize="16" VerticalAlignment="Center"/>
                        <TextBlock Text="ãƒ­ã‚°" FontWeight="SemiBold" VerticalAlignment="Center"/>
                    </StackPanel>
                </TabItem.Header>
                <views:LogView DataContext="{Binding Log}"/>
            </TabItem>
        </TabControl>

        <!-- ä¸‹éƒ¨æ“ä½œã‚¨ãƒªã‚¢ -->
        <Border Grid.Row="2" 
                Background="{DynamicResource SystemControlBackgroundBaseLowBrush}"
                BorderBrush="{DynamicResource SystemControlBackgroundBaseMediumBrush}"
                BorderThickness="0,1,0,0"
                Padding="16">
            
            <Grid ColumnDefinitions="*,Auto">
                
                <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="12" VerticalAlignment="Center">
                    <TextBlock Text="{Binding StatusMessage}"
                              FontWeight="SemiBold"
                              VerticalAlignment="Center"/>
                </StackPanel>

                <!-- æ“ä½œãƒœã‚¿ãƒ³ -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="12">
                    
                    <!-- é–‹å§‹ãƒœã‚¿ãƒ³ -->
                    <Button Command="{Binding StartMonitoringCommand}"
                           Classes="primary"
                           IsEnabled="{Binding !IsMonitoring}"
                           Padding="20,8">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="â–¶" FontSize="14" VerticalAlignment="Center"/>
                            <TextBlock Text="é–‹å§‹" FontWeight="SemiBold" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>

                    <!-- åœæ­¢ãƒœã‚¿ãƒ³ -->
                    <Button Command="{Binding StopMonitoringCommand}"
                           Classes="danger"
                           IsEnabled="{Binding IsMonitoring}"
                           Padding="20,8">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="â¸" FontSize="14" VerticalAlignment="Center"/>
                            <TextBlock Text="åœæ­¢" FontWeight="SemiBold" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>

                    <!-- çµ‚äº†ãƒœã‚¿ãƒ³ -->
                    <Button Command="{Binding ExitApplicationCommand}"
                           Classes="secondary"
                           IsEnabled="{Binding !IsMonitoring}"
                           Padding="20,8">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="âœ•" FontSize="14" VerticalAlignment="Center"/>
                            <TextBlock Text="çµ‚äº†" FontWeight="SemiBold" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>